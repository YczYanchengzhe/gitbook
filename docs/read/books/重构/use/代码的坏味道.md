# 代码的坏味道

**什么时候需要进行重构?**

## 1. 神秘命名

## 2. 重复代码

## 3. 过长函数

>每当感觉需要以注释来说明点什么的时候，我们就把需要说明的东西写进一个独立函数中
>
>摘录来自: 马丁·福勒(Martin Fowler). 重构：改善既有代码的设计（第2版）。 Apple Books. 

## 4. 过长参数列表

## 5. 全局数据

## 6. 可变数据
对数据的修改经常导致出乎意料的结果和难以发现的bug

## 7. 发散式变化
如果某个模块经常因为不同的原因在不同的方向上发生变化,就出现了发散式变化.

## 8. 霰弹式修改
如果每遇到某种变化，你都必须在许多不同的类内做出许多小修改，你所面临的坏味道就是霰弹式修改

## 9. 依恋情节
一个函数跟另一个模块中的函数或者数据交流格外频繁，远胜于在自己所处模块内部的交流，这就是依恋情结的典型情况

## 10.数据泥团
总是绑在一起的数据应该拥有属于自己的对象

评判方法 : 删掉众多数据中的一项。如果这么做，其他数据有没有因而失去意义？如果它们不再有意义，这就是一个明确信号：你应该为它们产生一个新对象。

## 11. 基本类型偏执
对于电话号含义的字符串 ,可以再在字符串的基础上封装一个对象

## 12. 重复的 switch
每当你想增加一个选择分支时，必须找到所有的switch，并逐一更新 ,通过多态来进行优化

## 13. 循环语句
通过管道取代循坏

## 14. 冗余的元素
函数的名字和实现一样 ,类中国只有一个函数,这样的情况下可以将其内联.

## 15. 夸夸其谈通用性
不要尝试通过各种各样的钩子和特殊情况来处理一些没有必要的事情.

## 16. 临时字段
某个为了某种特殊情况而设置的字段.应该将所有该字段的处理逻辑封装在一起

## 17. 过长的消息链
用户向一个对象请求另一个对象，然后再向后者请求另一个对象，然后再请求另一个对象……这就是消息链

## 18. 中间人
某个类的接口有一半的函数都委托给其他类

## 19.内幕交易
通常是由于继承导致的密谋,因为子类对于超类的了解超出了父类的期望,此时可以使用委托代替超类

## 20. 过大的类


## 21. 异曲同工的类

## 22. 纯数据类

## 23. 被拒绝的遗赠
子类应该继承超类的函数和数据。但如果它们不想或不需要继承 ,此时对于继承的设计可能不合理

## 24. 注释
注释可以帮助我们找到坏代码,当你感觉需要撰写注释时，请先尝试重构，试着让所有注释都变得多余。
