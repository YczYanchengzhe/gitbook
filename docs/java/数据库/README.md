# 工作相关知识整理

> 不积跬步无以至千里 , 不积小流无以成江海!
> 拼搏吧,骚年!
> 参阅所有资料都要抱着他可能是错误的态度来阅读



#### 1. orde by (函数) 部分正序部分倒叙

```sql
-- id < 5 id倒叙 , id > 5 id正序
order by (id<5 , -id , id)  
```

#### 2. MySQL数据转换问题

mysql会隐式转换类型 , 此时会不走索引 , 结果可能是错的 . 

敏感信息不要直接写在sql里面

#### 3. count(1)、count(*)与count(列名)的执行区别

> 阅读高性能MySQL找到答案

#### 4. MySQL —— 为什么需要主键？主键为什么最好是单调递增的？
https://blog.csdn.net/itworld123/article/details/103004407

#### 5. 页分裂
单调增加的趋势对现有的数据块影响最小 , 否则可能需要在两块之间增加数据
https://zhuanlan.zhihu.com/p/98818611

#### 6. 添加索引与锁表
https://www.jianshu.com/p/4abc30dfad01

#### 7. 聚集索引和二级索引
主键的B+树 关联的都是数据 , 其他索引关联的都是主键

#### 8. 索引的最左原则

#### 9. 索引尽量区分度高一些
可以尝试使用这个公式来计算 : DISTINCT(name)/count(*)

#### 10. 需要注意索引冗余

#### 11. 修改表结构的危害
索引重建 , 锁表 , 抢占资源 , 主从延时

建议增加子表 , 不增加字段

#### 12. 
批量插入 , 大批量写入优化 , 一次插入插入多条 , 可以增加执行速度 , 但是对于sql解析引擎 和sql中间件不友好.
查询也可以使用批量的方式

#### 13. Load Data
直接导入数据 , 批量导入最快 , 在导入之前最好不创建索引 , 再创建之后再统一新建索引

#### 14. 
更新操作 , 控制范围 , 否则容易锁混乱

#### 15. 
like 只支持前缀匹配 , 前面加了 % 是用不到索引的

#### 16.
连接 : 小表驱动大表 避免笛卡尔积

#### 17. 索引失效的情景
索引失效 : NULL , not , not in , 函数


# 参考资料
